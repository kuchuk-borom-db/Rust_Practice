---
import Layout from '../layouts/Layout.astro';
import Block from "../components/VisualFlowBlockReactComponent";
import {type BlockData, testData} from "../models/BlockData";

// Mock data for demonstration
const mockBlocks: Record<string, BlockData> = testData;

const initialBlockId = Object.keys(mockBlocks)[0];
---

<Layout title="Visual Flow Logger - Block Visualization">
    <style>
        /* Global body styles */
        body {
            min-width: 100%;
            min-height: 100%;
            width: max-content;
            height: max-content;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #0A1128, #1A1A2E);
            background-size: 200% 200%;
            animation: gradientAnimation 10s ease infinite;
        }

        /* Gradient animation for background */
        @keyframes gradientAnimation {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }

        .title {
            font-family: 'Poppins', sans-serif;
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(45deg, #00FFFF, #FF00FF, #00FFFF);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: textGradient 5s ease infinite;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.5), 0 0 20px rgba(255, 0, 255, 0.5);
        }

        @keyframes textGradient {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }

    </style>

    <h1 class="title">Stack Flow Diagram</h1>

    <div class="flex justify-center items-center w-full">
        <Block
                client:load
                blockID={initialBlockId}
                blockData={mockBlocks[initialBlockId]}
                blocks={mockBlocks}
        />
    </div>
</Layout>